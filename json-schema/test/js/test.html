<script src="tv4.js"></script>

<script type="application/javascript">
var agencies = null;
fetch("../../agencies.json")
    .then(response => response.json())
    .then(json => (agencies = json));

var stops = null;
fetch("../../stops.json")
    .then(response => response.json())
    .then(json => (stops = json));

console.log("hey");


function testAgencies()
{
    tv4.addSchema('xxx', agencies);
    var data1 = {'name':'poo'};
    var data2 = [1, 2, 3];
    var schema = agencies;
    console.log("hey");
    console.log(schema);
    alert("data 1: " + tv4.validate(data1, schema)); // true
    alert("data 2: " + tv4.validate(data2, schema)); // false
}
</script>


<a href="#" onclick="testAgencies()">Test Agencies Schema</a>
