<script src="tv4.js"></script>

<script type="application/javascript">
var agencies = null;
fetch("../../agencies.json")
    .then(response => response.json())
    .then(json => (agencies = json));

var stops = null;
fetch("../../stops.json")
    .then(response => response.json())
    .then(json => (stops = json));


function testAgencies()
{
    tv4.addSchema('xxx', agencies);
    var data1 = {'name':'poo'};
    var data2 = {'names':'poo'};
    var schema = agencies;
    console.log(schema);
    console.log(tv4.validateResult(data1, schema, true, true));
    console.log(tv4.validateMultiple(data1, schema, true, true));

    alert("data 1: " + tv4.validate(data1, schema, true, true)); // true
    alert("data 2: " + tv4.validate(data2, schema, true, true)); // false
}
</script>


<a href="#" onclick="testAgencies()">Test Agencies Schema</a>
